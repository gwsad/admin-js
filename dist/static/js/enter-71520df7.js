import{a5 as x,d as h,C as d,a1 as w,ag as N,c as D,a as o,g as n,u as T,f as E,N as L,a8 as M,r as u,o as _,e as p,b as A,a7 as g,ah as O}from"./index-bd78f53a.js";const S=[{prop:"name",label:"银行卡名称"},{prop:"createdAt",label:"创建时间"},{prop:"option",label:"操作",width:"200px",slots:[{render(m,c,l){return[m(x,{type:"danger",text:"删除",size:"small",onClick(){c.emit("onDelete",l)}},"删除")]}}]}],U={class:"bs"},z={class:"dialog-footer"},$=h({__name:"enter",setup(m){const c=S,l=d([]),a=d(!1),s=d("");w(()=>{f()});const f=async()=>{const{data:e}=await N();l.value=e},v=()=>{M.confirm("确认注销该账号吗？",{type:"warning"}).then(()=>{}).catch(()=>{})},b=e=>{},k=()=>{a.value=!0},C=async()=>{if(!s.value)return g.error("请输入银行名称");try{const e=await O({name:s.value});if(e.code===4e4)return g.error(e.message);f()}catch{return!1}a.value=!1};return(e,t)=>{const i=u("el-button"),B=u("SrmTable"),y=u("el-input"),V=u("el-dialog");return _(),D("div",U,[o(i,{class:"mb-10",type:"primary",onClick:k},{default:n(()=>[p("新增")]),_:1}),o(B,{columns:T(c),sourceData:l.value,listTotal:0,onOnDelete:v,onCurrentChange:b},null,8,["columns","sourceData"]),a.value?(_(),E(V,{key:0,modelValue:a.value,"onUpdate:modelValue":t[2]||(t[2]=r=>a.value=r),title:"新增银行",width:"30%"},{footer:n(()=>[A("span",z,[o(i,{onClick:t[1]||(t[1]=r=>a.value=!1)},{default:n(()=>[p("取消")]),_:1}),o(i,{type:"primary",onClick:C},{default:n(()=>[p("确定")]),_:1})])]),default:n(()=>[o(y,{modelValue:s.value,"onUpdate:modelValue":t[0]||(t[0]=r=>s.value=r),placeholder:"请输入银行名称"},null,8,["modelValue"])]),_:1},8,["modelValue"])):L("",!0)])}}});export{$ as default};
