import{E as m,d as k,r as c,a as C,o as D,at as E,c as T,b as d,u as y,f,au as h,h as b,i as q}from"./index-be6ca31d.js";const w=[{prop:"amount",width:"120px",label:"提现金额（HK$）"},{prop:"phone",label:"卡主名称",slots:[{render(t,n,e){return[t("span",{type:"primary",text:"成功"},e.accountInfo.bank?e.accountInfo.bank.username:"-")]}}]},{prop:"phone",width:"200px",label:"银行卡号",slots:[{render(t,n,e){return[t("span",{type:"primary"},e.accountInfo.bank?e.accountInfo.bank.bank:"-")]}}]},{prop:"phone",width:"150px",label:"USDT地址（erc20）",slots:[{render(t,n,e){return[t("span",{type:"primary"},e.accountInfo.usdt&&e.accountInfo.usdt.name==="erc20"?e.accountInfo.usdt.address:"-")]}}]},{prop:"phone",width:"150px",label:"USDT地址（trc20）",slots:[{render(t,n,e){return[t("span",{type:"primary"},e.accountInfo.usdt&&e.accountInfo.usdt.name==="trc20"?e.accountInfo.usdt.address:"-")]}}]},{prop:"phone",width:"200px",label:"支付宝名称",slots:[{render(t,n,e){return[t("span",{type:"primary"},e.accountInfo.alipay?e.accountInfo.alipay.account:"-")]}}]},{prop:"phone",width:"200px",label:"支付宝账号",slots:[{render(t,n,e){return[t("span",{type:"primary"},e.accountInfo.alipay?e.accountInfo.alipay.accountName:"-")]}}]},{prop:"createdAt",label:"创建时间"},{prop:"updatedAt",label:"提现状态",width:"100px",fixed:"left",slots:[{render(t,n,e){return[t("span",{type:"primary"},e.status.message)]}}]},{prop:"option",label:"操作",width:"200px",fixed:"right",slots:[{render(t,n,e){return[t(m,{type:"primary",text:"成功",style:`display: ${e.status.message==="处理中"?"inline-block":"none"}`,onClick(){n.emit("onSuccess",e)}},"打款成功"),t(m,{type:"danger",text:"失败",size:"small",style:`display: ${e.status.message==="处理中"?"inline-block":"none"}`,onClick(){n.emit("onError",e)}},"审核失败")]}}]}],B=[{name:"提现状态",key:"status",type:"select",showLabel:!0,options:[{value:"0",label:"全部"},{value:"1",label:"审批中"},{value:"3",label:"审批失败"},{value:"2",label:"打款成功"}]}],F={class:"bs"},L=k({__name:"enter",setup(t){const n=w,e=B,l=c([]),p=c({status:0}),v=C({}),u=c(0),r=c({page:1,limit:10});D(()=>{s()});const s=async()=>{l.value=[];const{data:a}=await E(Object.assign(p.value,{current:r.value.page,pageSize:r.value.limit}));l.value=a.list,u.value=a.totalCount},g=a=>{r.value=a,s()};function i(a){p.value=JSON.stringify(a)==="{}"?{}:a,s()}const _=a=>{f.confirm("确认打款成功吗？",{type:"success"}).then(async()=>{const o={id:a._id,type:{status:2}};await h(o),s()}).catch(o=>{})},x=a=>{f.confirm("确认审核失败吗？",{type:"warning"}).then(async()=>{const o={id:a._id,type:{status:3,rejectMessage:""}};await h(o),s()}).catch(()=>{})};return(a,o)=>{const I=b("SrmFilter"),S=b("SrmTable");return q(),T("div",F,[d(I,{items:y(e),"search-params":v,onSearch:i,onReset:i},null,8,["items","search-params"]),d(S,{columns:y(n),sourceData:l.value,pageRequest:r.value,listTotal:u.value,reqData:p.value,onOnSuccess:_,onOnError:x,onCurrentChange:g},null,8,["columns","sourceData","pageRequest","listTotal","reqData"])])}}});export{L as default};
