import{E as x,d as _,r as d,o as h,B as D,c as E,b as o,w as n,u as N,q as T,s as L,f as M,h as u,i as g,k as m,j as A,e as k,C as F}from"./index-02a971a9.js";const O=[{prop:"name",label:"银行卡名称"},{prop:"createdAt",label:"创建时间"},{prop:"option",label:"操作",width:"200px",slots:[{render(p,c,l){return[p(x,{type:"danger",text:"删除",size:"small",onClick(){c.emit("onDelete",l)}},"删除")]}}]}],S={class:"bs"},U={class:"dialog-footer"},q=_({__name:"enter",setup(p){_({name:"PageFooter"});const c=O,l=d([]),t=d(!1),s=d("");h(()=>{f()});const f=async()=>{const{data:e}=await D();l.value=e},v=()=>{M.confirm("确认注销该账号吗？",{type:"warning"}).then(()=>{}).catch(()=>{})},b=e=>{},B=()=>{t.value=!0},C=async()=>{if(!s.value)return k.error("请输入银行名称");try{const e=await F({name:s.value});if(e.code===4e4)return k.error(e.message);f()}catch{return!1}t.value=!1};return(e,a)=>{const i=u("el-button"),y=u("SrmTable"),V=u("el-input"),w=u("el-dialog");return g(),E("div",S,[o(i,{class:"mb-10",type:"primary",onClick:B},{default:n(()=>[m("新增")]),_:1}),o(y,{columns:N(c),sourceData:l.value,listTotal:0,onOnDelete:v,onCurrentChange:b},null,8,["columns","sourceData"]),t.value?(g(),T(w,{key:0,modelValue:t.value,"onUpdate:modelValue":a[2]||(a[2]=r=>t.value=r),title:"新增银行",width:"30%"},{footer:n(()=>[A("span",U,[o(i,{onClick:a[1]||(a[1]=r=>t.value=!1)},{default:n(()=>[m("取消")]),_:1}),o(i,{type:"primary",onClick:C},{default:n(()=>[m("确定")]),_:1})])]),default:n(()=>[o(V,{modelValue:s.value,"onUpdate:modelValue":a[0]||(a[0]=r=>s.value=r),placeholder:"请输入银行名称"},null,8,["modelValue"])]),_:1},8,["modelValue"])):L("",!0)])}}});export{q as default};
